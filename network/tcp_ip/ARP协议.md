## 作用
同一LAN中，通过IP查MAC，这样才能进行通信

## 实现
1. 先查缓存表，如果表中有，直接将MAC封装到数据帧中
2. 如果没有，则通过MAC层的广播通过IP来请求同一LAN中的主机的MAC地址，交换机收到这个广播帧之后，会把这个帧广播出去
3. 其他主机发现有主机正在通过ARP请求自己的MAC，先将发送请求的MAC和IP记录到自己的缓存表里，再发一个ARP应答
4. 这个数据包最后被交换机转发至发送ARP请求的主机
5. 主机收到回应的ARP请求后，先将MAC和IP的映射关系记录到自己的缓存里，然后就可以使用了

## 典型场景
- 比如A->B要发包，但是他们不在同一个LAN，中间要通过好几个中间结点。那么在寻路过程中，就会使用ARP协议来不断的查找每个节点的入口和出口的MAC地址。
- 在寻路过程中，源IP和目的IP是不会变的，但是源MAC和目的MAC是一直在变的
- IP是逻辑地址，MAC是物理地址