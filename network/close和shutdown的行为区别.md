## close
close会把fd的引用计数减1，如果引用计数到0，则释放连接对应的所有资源，并关闭连接。所以**调用close并不代表发送FIN，不一定导致套接字不可用**

## shutdown
- shutdown并不释放套接字以及对应资源，只负责发FIN
- 在参数为SHUT_RDWR时，不管套接字的引用计数是多少，都直接发送FIN报文，可能会影响到其他使用这个套接字的进程
- 在参数为SHUT_WR时，把缓冲区的数据立即发出去，再附加一个FIN
- 在参数为SHUT_RD时，所有对套接字的读操作返回EOF，并丢弃缓冲区和后来的接收的数据
- shutdown只是进入半关闭状态，实际上如果只关闭了写半部，读半部仍然能对对端的数据包正常的ack