## ping命令有什么用
测试另一台主机是否可达，此外还可以测出往返时间。

## ping的实现
发送一份ICMP回显（通过设置ICMP的报文类型）请求给主机，并等待ICMP回显的应答。另外为了达到测量时间的目的，把ICMP报文的数据填充为发送时的时间。

## ICMP协议
我认为它是网络层的一个组成部分，虽然在ICMP报文之前需要加一个IP首部。ICMP的主要作用是回显请求（ping）或者差错应答。

ICMP不同的类型+代码的组合有不同的作用，比如回显、网络不可达、重定向、超时等等（反正就是各种跑腿的杂事呗），在回复差错报文时，ICMP始终包含source和destination，这样解析ICMP差错报文的模块就知道是谁产生的差错了。